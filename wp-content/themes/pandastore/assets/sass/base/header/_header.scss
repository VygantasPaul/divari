/* -------------------------------------------
	Header
		-Header
		-Welcome-msg
		-Header Search
		-Header Category Menu
		-Other 
			- Login
			- Call
			- Wishlist
		-Sticky Header
		-Other Options
---------------------------------------------- */

// Header
.logo {
	display: block;
}
.default-header .logo {
	width: 171px;
}
.account,.login, .wishlist, .compare-open, .contact, .register {
	display: flex;
	align-items: center;
}
.account {
	.links {
		display: flex;
		align-items: center;
	}
	&.block-type {
		.links {
			margin-top: 10px;
		}
	}
}
// Dropdown Account 
.account-dropdown {
	&::after,
	> a::after {
		content: none;
	}
	a {
		line-height: 1.2;
	}
	.menu {
		> ul > li > a {
			padding: 6px 15px;
			font-weight: 300;
			text-transform: capitalize;
		}

		ul {
			padding: 0;
		}
	}
	.dropdown-box {
		padding: 1rem 0 .5rem;
		width: auto;
		ul.menu {
			> li {
				padding: 0;
			}
		}
	}
	a.block-type:after {
		display: none;
	}
}

.account-avatar {
	width: 40px;
	height: 40px;
	background: #ebebeb;
	border-radius: 50%;
	overflow: hidden;

	.block-type & {
		margin-bottom: 1rem;
	}

	.inline-type & {
		margin-#{$right}: 1rem;
	}
}

@if use(header-account) {
	.account {
		.delimiter {
			color: #aaa;
			margin: 0 3px;
		}
	}
}

@if use(contact) {
	.contact {
		.telephone {
			display: block;
		}
		.contact-delimiter {
			text-transform: lowercase;
		}
		i {
			padding-#{$right}: 10px;
			transition: color .3s;
		}
	}
}

@if (use(header-account) or use(header-wishlist) or use(header-compare)) {
	.login,
	.wishlist,
	.compare-open {
		i + span {
			margin-#{$left}: 9px;
		}
	}

	.account .login,
	.account .register,
	.wishlist,
	.compare-open {
		&:hover {
			color: var(--alpha-primary-color, $primary-color);
		}
	}

	.badge-type {
		i + span {
			margin-#{$left}: 0;
			margin-top: 10px;
		}
	}

	header .block-type {
		flex-direction: column;

		i + span {
			margin: 3px 0 0;
		}
	}

	i {
		position: relative;
	}
	.wishlist-dropdown,
	.compare-dropdown {
		&:after {
			display: none;
		}
	}
	.widget_wishlist_content > .d-loading {
		display: none;
	}
}

@if (use(header-wishlist) or use(header-cart) or use(header-compare)) {
	.header .wish-count,
	.header .compare-count,
	.cart-dropdown.badge-type .cart-count {
		position: absolute;
		#{$right}: -21px;
		top: 6px;
		width: 1.55em;
		height: 1.55em;
		line-height: 1.55em;
		font-size: 1.2rem;
		border-radius: 50%;
		background-color: var(--alpha-primary-color, $primary-color);
		color:  #fff;
		transform: translate(if-ltr(-50%, 50%), -50%);
		z-index: 1;
		text-align: center;
		font-family: $font-family;
	}
}

header {
	.login > i,
	.wishlist > i,
	.compare-open i,
	.cart-toggle > i,
	.contact i {
		font-size: 2.3rem;
		margin-bottom: -4px;
	}
}

// Welcome message animation.
@if use(welcome-msg) {
	@include mq(sm, max) {
		.welcome-msg {
			white-space: nowrap;
			transform: translateX(0);
			animation: 6s linear 2s 1 show_msg_first, 12s linear 8s infinite show_msg;
		}
	}
	@keyframes show_msg_first { 
		from { transform: translateX(0%); }
		to { transform: translateX(if-ltr(-100%, 100%)); }
	}
	@keyframes show_msg { 
		from { transform: translateX(if-ltr(100%, -100%)); }
		to { transform: translateX(if-ltr(-100%, 100%)); }
	}
}

// Language Switcher, Currency Switcher
@if (use(header-currency-switcher) or use(header-language-switcher)) {
	.menu.switcher {
		font-size: 1.2rem;

		a {
			white-space: nowrap;
		}

		i, img {
			margin-#{$right}: .5rem;
			margin-bottom: .2rem;
		}

		img {
			max-width: 14px;
			margin-top: -2px;
			vertical-align: middle;
		}

		li.active > a,
		li:hover > a {
			color: var(--alpha-primary-color, $primary-color);
		}

		li a {
			padding: 6px 10px;
			line-height: 1.1;
		}

		> li > a {
			padding: 9px 0;
			top: 1px;
			font-size: 12px;
			font-weight: 300;

			&::after {
				margin-top: -1px;
				#{$right}: -1.8em;
			}
		}

		ul {
			#{$left}: auto;
			#{$right}: 0;
			min-width: 0;
			padding: 5px 0;

			li {
				padding: 0;
			}

			a {
				color: var(--alpha-body-color, $body-color);
			}
		}
	}
}

// Absolute Header
@if use(header-absolute) {
	.absolute-header {
		position: absolute;
		width: 100%;
		#{$left}: 0;
		top: 0;
		z-index: 1040;
	}
}

/* Responsive */
@include mq(lg, max) {
	@if use(header-logo) {
		.header .logo {
			margin-#{$right}: var(--alpha-logo-mobile-space);
		}
	}

	.header {
		.account, .wishlist, .compare-open, .cart-toggle, .cart-dropdown.block-type {
			> span {
				display: none;
			}

			i {
				margin-bottom: 0;
				line-height: 1;
			}
		}
		.account span {
			display: none;
		}
	}

	@if use(header-sticky) {
		.sticky-wrapper {
			height: auto !important;
		}
	}

	@if use(contac) {
		.contact .contact-content {
			display: none;
		}
	}

	@if use(menu-horizontal) {
		body .dropdown.mobile-links {
			li {
				margin-#{$right}: 0;

				> a {
					display: block;
					padding: .6rem 1rem;
				}
			}

			.menu {
				display: block;
			}

			li:hover > a {
				color: var(--alpha-primary-color, $primary-color);
			}
		}
	}

	.has-mob-center {
		.header-left,
		.header-right {
			flex: 1;
		}
	}

	.header .search-toggle {
		i {
			font-size: 2rem;
		}
	}
}

// Responsive Links Group
@include mq(lg) {
	@if use(menu-horizontal) {
		.dropdown.mobile-links {
			&::after {
				content: none;
			}
			> a {
				display: none;
			}
			.dropdown-box {
				position: static;
				visibility: visible;
				opacity: 1;
				background-color: transparent;
				box-shadow: none;
				border: 0;
				padding: 9px 0;
				transform: none;
				color: inherit;

				> li {
					margin-#{$right}: 1.95rem;
					&:last-child {
						margin-#{$right}: 0;
					}
				}

				a {
					padding: 0;
				}
			}
		}
	}

	.has-desk-center {
		.header-left,
		.header-right {
			flex: 1;
		}
	}
}

.mini-basket-dropdown {
	> a::after {
		content: none;
	}
	.dropdown-box {
		padding: 2rem 3rem 3rem;
		min-width: 34rem;
	}
	.mini-list {
		max-height: 25rem;
		margin: 0;
		padding-#{$left}: 0;
		padding-#{$right}: 5px;
		list-style: none;
		overflow-y: scroll;
		overflow-x: hidden;
		text-transform: capitalize;

		+ .buttons {
			margin-top: 1rem;
			margin-bottom: 0;
			border-top: 1px solid #eee;
			padding-top: 20px;
		}
	}
	.mini-item {
		display: flex;
		position: relative;
		align-items: center;
		font-size: 1.4rem;
		padding: 1rem 0;
		a {
			padding: 0;
		}
		> a:nth-child(2) {
			flex: 0 0 8.4rem;
			max-width: 8.4rem;
			padding: 0;
			img {
				width: 100%;
				object-fit: cover;
			}
		}
		.remove {
			position: absolute;
			display: flex;
			align-items: center;
			justify-content: center;
			top: 50%;
			transform: translateY(-50%);
			#{$right}: 0;
			width: 22px;
			height: 22px;
			line-height: 22px;
			text-align: center;
			border-radius: 50%;
			font-size: 1.4rem;
			color: #aeaeae;
			background: #fff;
			border: 1px solid $border-color-light;
			transition: color 0.4s,border 0.4s;
			z-index: 3;
			i {
				display: none;
			}
			&:hover {
				color: var(--alpha-primary-color, $primary-color);
				border-color: var(--alpha-primary-color, $primary-color);
			}
			&::before {
				content: "\e96f";
				font-family: $theme-font;
			}
		}
		.quantity {
			display: flex;
			flex-wrap: wrap;
			align-items: center;
			width: auto;
			line-height: 1;
			font-size: 1.8rem;
			height: auto;
			color: var(--alpha-body-color, $body-color);

			.times {
				position: relative;
				top: -5px;
				margin-#{$left}: 0.5rem;
				font-size: 3.5rem;
				font-weight: 100;
			}
			ins {
				color: var(--alpha-dim-color, $dim-color);
			}
			del {
				color: var(--alpha-body-color, $body-color);
				font-size: 1.4rem;
				margin-#{$left}: .5rem;
			}
		}
		.amount {
			color: inherit;
			font-weight: 400;
		}
	}
	.mini-item-meta {
		flex: 1;
		order: 1;
		margin: side-values(auto 0 auto 2rem);
		a {
			margin-bottom: 1.5rem;
			&:hover {
				color: var(--alpha-primary-color, $primary-color);
			}
		}
		input.qty {
			width: 70px;
		}
	}
	.empty-msg {
		font-size: 1.4rem;
		line-height: 1;
		margin: 1rem 0 0;
		text-align: center;
	}
	// Off canvas type
	&.offcanvas-type {
		&::after {
			content: none;
		}
		.popup-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-bottom: 1rem;
			padding-bottom: 1.4rem;
			border-bottom: 1px solid #e1e1e1;
		}
		h3 {
			margin-bottom: 0;
			font-size: 2rem;
			line-height: 22px;
		}
		.btn-close {
			font-size: 1.6rem;
			text-transform: capitalize;
			font-weight: 300;
			color: var(--alpha-body-color, $body-color);

			&:hover {
				color: var(--alpha-primary-color, $primary-color);
			}
			i {
				margin-#{$left}: 5px;
				top: 0;
			}
		}
		.dropdown-box {
			position: fixed;
			top: 0;
			#{$right}: -37rem;
			padding: 2.9rem 3rem;
			height: 100vh;
			min-width: auto;
			width: 37rem;
			opacity: 1;
			visibility: hidden;
			transition: #{$right} 0.3s, visibility 0.3s;
			transform: none;
		}
		.offcanvas-overlay {
			position: fixed;
			left: 0;
			width: 100vw;
			top: -10vh;
			height: 120vh;
			background: rgba(0,0,0,.3);
			z-index: 9998;
			opacity: 0;
			visibility: hidden;
			transition: opacity .3s, visibility .3s;
		}
		.dropdown-box {
			z-index: 9999;
		}
		.mini-list {
			max-height: calc(100vh - 18.5rem);
		}
		&.opened {
			.dropdown-box {
				visibility: visible;
				top: 0;
				#{$right}: 0;
			}
			.offcanvas-overlay {
				opacity: 1;
				visibility: visible;
			}
		}
		.empty-msg {
			margin: 2rem 0 0;
		}
	}
}

// Compare List
@if use(header-compare) {
	.compare-dropdown {
		.compare-list {
			flex-direction: column;
			margin-#{$right}: -15px;
			margin-bottom: 0;
			padding-#{$right}: 1.5rem;
			padding-top: 0;
			padding-bottom: 0;
			max-width: none;
		}
		.compare-item {
			min-height: auto;
			width: 100%;
			max-width: 100%;
		}
		.compare-item + .compare-item {
			margin-left: 0;
		}
		.compare-buttons .btn {
			color: #fff;
		}
	}
}

// Cart
@if use(header-cart) {
	.cart-dropdown {
		.cart-toggle {
			padding: .6rem 0;
			&::after {
				content: none;
			}
		}
		.cart-label {
			display: block;
			cursor: pointer;
			span {
				display: inline-block;
			}
		}
		.cart-name-delimiter {
			margin: side-values(0 5px 0 3px);
		}
		.cart-name + .cart-price,
		.cart-label + i,
		.cart-label + .cart-count-wrap {
			margin-#{$left}: 7px;
		}
		.cart-header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			border-bottom: 1px solid $border-color-light;
			padding-bottom: 1.4rem;
			margin-bottom: 1rem;
		}
		.cart-title {
			margin-bottom: 0;
			font-size: 2rem;
			line-height: 22px;
		}
		.minicart-icon {
			display: inline-block;
		}
		.cart-count {
			display: inline-block;
			font-size: 1.3rem;
			font-weight: 400;
			line-height: 25px;
			i {
				vertical-align: middle;
			}
		}

		.minicart-icon .cart-count {
			transition: color .4s;
		}

		&:hover {
			.minicart-icon {
				color: #fff;
				background: var(--alpha-primary-color, $primary-color);

				&::before {
					transform: rotateY(180deg);
				}
			}
			.minicart-icon .cart-count {
				color: #fff;
			}
		}
		&.badge-type {
			.cart-toggle > i {
				text-align: center;
			}

			.cart-toggle .fa {
				padding-#{$right}: 5px;
				font-size: 1.7em;
				font-family: inherit;

				&::before {
					font-family: "Font Awesome 5 Free";
				}
			}

			&:hover {
				color: var(--alpha-primary-color, $primary-color);
			}
		}

		&.label-type {
			.cart-count {
				color: inherit;
			}
		}

		.cart_list {
			max-height: 330px;
			padding-#{$right}: 1.5rem;
			margin-#{$right}: -1.9rem;
		}

		.cart-item-meta a:hover {
			color: var(--alpha-primary-color, $primary-color);
		}

		.total {
			display: flex;
			align-items: center;
			justify-content: space-between;
			margin: 1rem 0 0;
			padding: 0.6rem 0 0.2rem;
			font-size: 1.6rem;
			text-transform: capitalize;
			line-height: 3;
			color: var(--alpha-dark-color, $dark-color);
			border-top: 1px solid $border-color-light;

			strong {
				font-weight: 300;
				color: var(--alpha-dim-color, $dim-color);
			}
			.amount {
				font-size: 1.8rem;
				font-weight: 400;
				color: var(--alpha-primary-color, $primary-color);
			}
		}

		.buttons {
			display: block;
			margin-bottom: 0;
			a {
				justify-content: center;
				margin-bottom: 1rem;
				padding: 1.65rem .6rem;
				font-size: 1.4rem;
				border-width: 1px;
				color: var(--alpha-dark-color, $dark-color);
				background-color: transparent;
				border-color: var(--alpha-dim-color, $dim-color);

				&:hover,
				&:active,
				&:focus {
					border-color: var(--alpha-primary-color, $primary-color);
					background-color: var(--alpha-primary-color, $primary-color);
					color: #fff;
				}
			}
			
			.checkout {
				@include button-variant(var(--alpha-dim-color, $dim-color), var(--alpha-dim-color-hover, #666));
			}
		}

		.empty-msg {
			margin: 1rem 0 0;
			line-height: 1;
			font-size: 1.4rem;
			text-align: center;
		}

		&.cart-offcanvas .empty-msg {
			margin: 2rem 0 0;
		}

		&.block-type {
			.cart-toggle {
				// display: flex;
				flex-direction: column-reverse;
			}

			.cart-toggle > i,
			.cart-count-wrap {
				margin-#{$left}: 0;
			}

			.cart-label {
				text-align: center;
			}
		}

		&.compact-type {
			&.inline-type .cart-label {
				margin-#{$left}: 1rem;
			}
			.cart-toggle > i {
				margin-#{$left}: 0;
			}
			&:not(.block-type) .cart-toggle {
				flex-direction: row-reverse;
			}
		}

		&:not(.cart-offcanvas) {
			.cart-header {
				display: none;
			}
		}

		&.cart-offcanvas {
			.dropdown-box {

				body.admin-bar & {
					margin-top: 3.2rem;
				}
			}
			&:after {
				content: none;
			}
			.cart-overlay {
				position: fixed;
				left: 0;
				width: 100vw;
				top: 0;
				height: 100vh;
				background: rgba(0,0,0,.3);
				z-index: 1100;
				opacity: 0;
				visibility: hidden;
				transition: opacity .3s, visibility .3s;
			}
			.cart_list {
				max-height: calc(100vh - 30rem);
			}
		}

		@include mq(sm, max) {
			&.cart-offcanvas {
				.dropdown-box {
					width: 296px;
				}
			}
		}

		&.opened {
			.cart-overlay {
				opacity: 1;
				visibility: visible;
			}
		}

		.total-count {
			display: flex;
			align-items: center;
			justify-content: space-between;
			padding-bottom: 1.8rem;
			border-bottom: 1px solid #edeef0;
			font-weight: 700;
			font-size: 1.4rem;
			letter-spacing: -.018em;
			line-height: 1;
			color: var(--alpha-dark-color, $dark-color);
		}

		.pull-right {
			padding: 0;
			

			&:hover,
			&:focus {
				color: inherit;
				text-decoration: underline;
			}

			i {
				margin: side-values(0 0 0 5px);
				font-size: 1.9rem;
			}
		}

		.cart-item-meta a {
			font-size: 1.4rem;
		}

		.w-loading.small i {
			top: calc(50% - 3px);
		}
	}

	@include mq(600px, max) {
		body.admin-bar .sticky-content.fixed .cart-dropdown.cart-offcanvas .dropdown-box {
			margin-top: 0;
		}
	}

	@include mq(360px, max) {
		.cart-dropdown {
			.dropdown-box {
				padding: 1.5rem;
				min-width: 27rem;
			}
			.empty-msg {
				margin-top: 1rem;
			}
		}
	}
	
	.cart-popup {
		z-index: 1102;
	}

	.mini_cart_item {
		color: var(--alpha-dark-color, $dark-color);

		.cart-item-meta {
			a {
				margin-bottom: .5rem;
				letter-spacing: 0;
				line-height: 1.3;

				@include text-block();
			}

			.variation {
				display: none;
            }
            .quantity {
                color: var(--alpha-grey-color, $grey-color);
            }
            .amount {
                margin-#{$left}: .5rem;
                color: var(--alpha-dim-color, $dim-color);
                font-weight: 400;
            }
        }


		a {
			padding: 0;
		}

		> a:first-child {
			margin-#{$right}: 1.5rem;
		}

		img {
			display: block;
			width: 8rem;
			object-fit: cover;
		}
	}
}

// Header builder
.custom-header {
	.mobile-menu-toggle,
	.mobile-menu-toggle i {
		display: block;
		font-size: 2.3rem;
		line-height: 0;
	}

	a.logo {
		margin: 0;
	}
}

.header-contact {
	a {
		&:hover,
		&:focus {
			text-decoration: none;
		}
	}
	i { 
		margin: 0 6px 0 0;
		font-size: 18px; 
		position: relative;
		top: 2px;
	}
}

//Header Category Menu
.header-category-menu {
	.menu {
		justify-content: space-between;
		> li {
			margin: 0;
			.header &:last-child {
				margin: 0;
			}
			&:hover {
				i {
					transform: translateY(-4px);
				}
			}
			> a {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				min-width: 12.4rem;
				text-transform: capitalize;
				letter-spacing: .1em;
				i {
					font-size: 3.3rem;
					margin: 0 auto .5rem auto;
					transition: transform .3s;
					line-height: 1;
				}
			}
		}
	}
	.custom-header-bottom & nav {
		width: 100%;
		overflow-x: auto;
		&::-webkit-scrollbar {
			height: 7px;
    		width: 7px;
		}
		&::-webkit-scrollbar-thumb {
			margin-right: 2px;
			background: rgba(255,255,255,0.2);
			border-radius: 10px;
    		border-radius: 7px;
    		cursor: pointer;
		}
	}
}

@include mq(lg, max) {
	@if use(menu-horizontal) {
		.dropdown.mobile-links {
			display: inline-block;
		}
	}
	@if use(menu-horizontal) {
		.mobile-links .dp-left {
			#{$left}: 0;
			#{$right}: auto;
		}
	}
}

@include mq(sm, max) {
    .welcome-msg {
        white-space:nowrap;
        transform: translateX(0);
        animation: 6s linear 2s 1 show_msg_first,12s linear 8s infinite show_msg
    }
}

@keyframes show_msg_first {
    0% {
        transform: translateX(0%)
    }

    to {
        transform: translateX(-100%)
    }
}

@keyframes show_msg {
    0% {
        transform: translateX(100%)
    }

    to {
        transform: translateX(-100%)
    }
}
