"use strict";window.themeAdmin=window.themeAdmin||{},function(t){var a={init:function(){for(var t in this.conditions=JSON.parse(JSON.stringify(alpha_layout_vars.conditions))||{},this.schemes=alpha_layout_vars.schemes||{},this.clipboard=!1,this.controls=[],alpha_layout_vars.controls)if(!t.startsWith("content"))for(var a in alpha_layout_vars.controls[t])this.controls.push(a)},getConditions:function(t="",a=-1){return t?(this.conditions[t]||(this.conditions[t]=[]),a>=0&&this.conditions[t][a]?this.conditions[t][a]:this.conditions[t]):this.conditions},getOptionValues:function(t,a){return!(!this.conditions[t]||!this.conditions[t][a])&&this.conditions[t][a].options},getConditionTitle:function(t,a){return t&&this.schemes[t]?a?this.schemes[t].layout_title:this.schemes[t].title:""},setConditionTitle:function(t,a,e){this.conditions[t][a]&&(this.conditions[t][a].title=e),this.requireSave()},getScheme:function(t,a=""){return a?this.schemes[t].scheme[a]:this.schemes[t].scheme},getOptionControls:function(t){return!!alpha_layout_vars.controls[t]&&alpha_layout_vars.controls[t]},getTemplates:function(t){return alpha_layout_vars.templates[t]},canExtendCondition:function(t,a=""){return!!(t&&this.schemes[t]&&this.schemes[t].scheme)&&(!a||this.schemes[t].scheme[a]&&this.schemes[t].scheme[a].list)},updateCategoryUI:function(a=""){var e=function(a){var e=t(".alpha-condition-cat-"+a+"> .alpha-condition-count"),i=this.conditions[a].filter((function(t){return t})).length;e.text("("+i+")"),i?e.slideDown():e.slideUp()}.bind(this);a&&e(a);var i=0;for(var o in this.conditions)i+=this.conditions[o].filter((function(t){return t})).length,a||e(o);t(".alpha-condition-cat-site > .alpha-condition-count").text("("+i+")").slideDown()},addCondition:function(t){this.conditions[t]||(this.conditions[t]=[]);var a={};return a.title=this.getConditionTitle(t,!0)+" "+(this.conditions[t].length+1),a.scheme={},this.schemes[t].scheme&&this.schemes[t].scheme.all&&(a.scheme.all=!0),this.conditions[t].push(a),this.updateCategoryUI(t),this.requireSave(),this.conditions[t].length-1},deleteCondition:function(a,e){void 0!==this.conditions[a][e]&&(this.conditions[a].splice(e,1),t(".alpha-layout-item[data-category="+a+"]").each((function(){var a=this.getAttribute("data-condition-no");a>e&&(this.setAttribute("data-condition-no",a-1),t(this).data("condition-no",a-1))})),t("#alpha_layout_content").isotope("updateSortData").isotope()),this.updateCategoryUI(a),this.requireSave()},duplicateCondition:function(a,e){if(a&&"number"==typeof e&&this.conditions[a][e]){var i=JSON.parse(JSON.stringify(this.conditions[a][e]));return t(".alpha-layout-item[data-category="+a+"]").each((function(){var a=this.getAttribute("data-condition-no");a>e&&(this.setAttribute("data-condition-no",1*a+1),t(this).data("condition-no",1*a+1))})),this.conditions[a].splice(e,0,i),this.updateCategoryUI(a),this.requireSave(),e+1}},copyOptions:function(t,a){this.clipboard={category:t,options:this.getOptionValues(t,a)}},pasteOptions:function(t,a,i){if(this.clipboard){if(t==this.clipboard.category)this.conditions[t][a]?this.conditions[t][a].options=this.clipboard.options:this.conditions[t][a]={options:this.clipboard.options};else{if(this.conditions[t][a].options)for(var o in this.conditions[t][a].options)this.controls.indexOf(o)&&delete this.conditions[t][a].options[o];else this.conditions[t][a].options={};for(var o in this.clipboard.options)this.controls.indexOf(o)&&(this.conditions[t][a].options[o]=this.clipboard.options[o])}e.refreshLayoutStatus(i),this.requireSave()}},requireSave:function(){t(".alpha-layouts-save").addClass("require-save"),t(window).trigger("show_btn_header")},setConditionScheme:function(t,a,e,i){if(void 0===this.conditions[t][a])(o={})[e]=i,o.all=!0,this.conditions[t][a]={scheme:o};else if(this.conditions[t][a]){var o;if(!this.conditions[t][a].scheme)(o={})[e]=i,this.conditions[t][a].scheme=o;i?this.conditions[t][a].scheme[e]=i:delete this.conditions[t][a].scheme[e]}this.requireSave()},setConditionList:function(t,a,e,i){this.conditions[t][a]=i?{type:e,list:i}:{type:e},this.requireSave()},setConditionOption:function(t,a,e,i){this.conditions[t][a].options||(this.conditions[t][a].options={}),i?this.conditions[t][a].options[e]=i:delete this.conditions[t][a].options[e],this.requireSave()},save:function(){t(".alpha-layouts-save").removeClass("require-save"),t(window).trigger("show_btn_header"),t.post(alpha_core_vars.ajax_url,{action:"alpha_layout_builder_save",nonce:alpha_core_vars.nonce,conditions:this.conditions},(function(){})).fail((function(){t(".alpha-layouts-save").addClass("require-save"),t(".alpha-modal-message").remove(),t(".alpha-layouts-save").before('<span class="alpha-modal-message"></span>'),t(window).trigger("show_btn_header")}))}},e={init:function(){this.buttonDelete='<button class="alpha-condition-button alpha-condition-delete far fa-trash-alt"></button>',this.buttonDuplicate='<button class="alpha-condition-button alpha-condition-duplicate far fa-clone"></button>',this.buttonSet='<button class="alpha-condition-button alpha-condition-set fa fa-cog"></button>',this.layoutBoxTemplate=t("#alpha_layout_template").text(),t("#alpha_layout_template").remove(),t(document.body).on("click",".alpha-layouts-save",this.onSave).on("contextmenu",".alpha-layout-item",this.onContextMenu.bind(this)).on("click","#alpha_layout_content",this.closeContextMenu).on("click",".alpha-condition-menu > a",this.clickContextMenuItem).on("click",".alpha-condition-copy",this.copyOptions).on("click",".alpha-condition-paste",this.pasteOptions).on("click",".alpha-condition-edit-back",this.goBackFromEdit).on("click",".alpha-condition-cat",this.clickCategory.bind(this)).on("click",".alpha-layout-more",this.addCondition.bind(this)).on("click",".alpha-condition-delete",this.deleteCondition.bind(this)).on("click",".alpha-condition-duplicate",this.duplicateCondition.bind(this)).on("change",".alpha-scheme-options > div > label input[type=checkbox]",this.changeConditionScheme.bind(this)).on("change",".alpha-scheme-list",this.changeConditionItem.bind(this)).on("input",".alpha-condition-title",this.changeConditionTitle.bind(this)).on("click",".alpha-layout .layout-part",this.editPart).on("click",".alpha-condition-set",this.editCondition).on("click",this.clickOther.bind(this)).on("change",".alpha-block-select input",this.changeBlockMode.bind(this)).on("change",".alpha-layout-options input",this.changeOptionInput.bind(this)).on("change",".alpha-layout-options select",this.changeOptionInput.bind(this)),this.setupLayouts()},refreshUI:function(a){a&&"layout"!=a&&"add"!=a||t("#alpha_layout_content").isotope(),a&&"add"!=a||this.refreshLayoutStatus()},refreshLayoutStatus:function(e){e||(e=t("#alpha_layout_content")),e.is(".alpha-layout-item")||(e=e.find(".alpha-layout-item")),e.each((function(){var e=t(this),i=e.data("category"),o=e.data("conditionNo"),n=a.getOptionValues(i,o);if(n)for(var l in alpha_layout_vars.controls)if(a.controls.indexOf(l)){var s=a.getOptionControls(l),c=e.find('.layout-part[data-part="'+l+'"]'),d=!1;for(var r in c.removeClass("set hide"),c.children(".block-value").text(""),s)if(n[r]){d=!0;break}if(s[l]&&"hide"==n[l])c.addClass("hide");else if(d&&(c.addClass("set"),s[l])){var h=a.getTemplates(s[l].type.replace("block_",""));h&&h[n[l]]&&c.children(".block-value").text(h[n[l]])}}}))},setupLayouts:function(){var e="",i=a.schemes;if(i){for(var o in i){var n=a.getConditions(o);for(var l in n)e+=this.getNewConditionUI(o,l);"site"==o||!a.canExtendCondition(o)&&n.length||(e+=this.getAddMoreUI(o))}t("#alpha_layout_content").html(e).isotope({layoutMode:"fitRows",filter:".alpha-layout-item",sortBy:["category","no"],getSortData:{category:function(t){var e=t.getAttribute("data-category");return Object.keys(a.schemes).indexOf(e)},no:function(t){return parseInt(t.getAttribute("data-condition-no"))}}}),a.updateCategoryUI(),this.refreshUI()}},refreshCondition:function(a,e){var i=".alpha-layout-item",o=this;a&&(i+='[data-category="'+a+'"]'),e&&(i+='[data-condition-no="'+e+'"]'),t(i).each((function(){o.editPart({currentTarget:t(this).find(".layout-part.active").get(0)})}))},onSave:function(){a.save()},onContextMenu:function(e){this.closeContextMenu();var i=t(e.currentTarget),o=t(".alpha-admin-panel-content"),n=o.get(0).getBoundingClientRect(),l=i.data("category"),s='<div class="alpha-condition-menu" style="left:'+(e.clientX-n.x+o.scrollLeft())+"px;top:"+(e.clientY-n.y+o.scrollTop())+'px;">',c='<a href="#" class="alpha-condition-';s+=c+'copy"><i class="far fa-copy"></i>'+alpha_layout_vars.text_copy+"</a>",a.clipboard&&(s+=c+'paste"><i class="fa fa-paste"></i>'+alpha_layout_vars.text_paste+"</a>"),a.canExtendCondition(l)&&(s+=c+'duplicate"><i class="far fa-clone"></i>'+alpha_layout_vars.text_duplicate+"</a>"),s+=c+'set"><i class="fa fa-cog"></i>'+alpha_layout_vars.text_options+"</a>",s+=c+'delete"><i class="far fa-trash-alt"></i>'+alpha_layout_vars.text_delete+"</a>",s+="</div>",o.append(s),t(".alpha-condition-menu").data("item",i),e.preventDefault()},closeContextMenu:function(){t(".alpha-condition-menu").remove()},clickContextMenuItem:function(t){t.preventDefault()},copyOptions:function(e){var i=t(e.currentTarget).parent().data("item");a.copyOptions(i.data("category"),i.data("condition-no"))},pasteOptions:function(e){var i=t(e.currentTarget).parent().data("item");a.pasteOptions(i.data("category"),i.data("condition-no"),i)},clickCategory:function(a){var e=t(a.currentTarget).addClass("active"),i=e.data("category");e.siblings(".active").removeClass("active"),t("#alpha_layout_content").isotope({filter:"site"==i?".alpha-layout-item":'[data-category="'+i+'"]'})},getAddMoreUI:function(t){return'<div class="alpha-layout-more-wrap" data-category="'+t+'" data-condition-no="999"><div class="alpha-layout-more"><div class="alpha-layout-more-inner"><i class="alpha-icon-plus"></i>'+alpha_layout_vars.text_create_layout+"<b>"+a.getConditionTitle(t)+"</b></div></div></div>"},getNewConditionUI:function(t,e=-1){-1==e&&(e=a.addCondition(t));var i=a.getConditions(t,e);if(i){var o="";if(a.canExtendCondition(t)){var n,l=a.getScheme(t),s=i.scheme||{};for(var c in o+='<div class="alpha-scheme-options"><label class="apply-text">'+alpha_layout_vars.text_apply_prefix+a.getConditionTitle(t,!0).toLowerCase()+alpha_layout_vars.text_apply_suffix+"</label>",l){n="alpha-scheme-"+c,s&&s.all&&"all"==c||s[c]||(n+=" disabled"),o+='<div class="'+n+'" data-scheme="'+c+'">',o+='<label><input type="checkbox"'+(s[c]?" checked":"")+">"+l[c].title+"</label>";var d=l[c].list;if(d){for(var r in o+='<select multiple class="alpha-scheme-list" data-placeholder="'+l[c].placeholder+'">',d)o+='<option value="'+r+'"'+(s[c]&&s[c].length&&(s[c].indexOf(r)>=0||s[c].indexOf(1*r)>=0)?" selected":"")+">"+d[r]+"</option>";o+="</select>"}o+="</div>"}o+="</div>"}var h=!a.getOptionControls("content_"+t);return this.layoutBoxTemplateReplaced=this.layoutBoxTemplate.replace('class="layout-part content" data-part="content"','class="layout-part content'+(h?" disabled":"")+'" data-part="content_'+t+'"'),"single_front"==t&&(this.layoutBoxTemplateReplaced=this.layoutBoxTemplate.replace('class="layout-part ptb"','class="layout-part ptb disabled"')),"archive_product"!=t&&(this.layoutBoxTemplateReplaced=this.layoutBoxTemplateReplaced.replace('class="layout-part top-sidebar sidebar"','class="layout-part top-sidebar sidebar disabled"')),'<div class="alpha-layout-item alpha-layout-item-'+t+'" data-category="'+t+'" data-condition-no="'+e+'"><div class="alpha-condition"><span class="alpha-condition-edit-back fa fa-arrow-left"></span><span class="alpha-condition-title" contenteditable="true">'+(i.title?i.title:a.getConditionTitle(t,!0))+"</span>"+(a.canExtendCondition(t)?this.buttonDuplicate+this.buttonSet:"")+("site"==t?"":this.buttonDelete)+'</div><div class="alpha-condition-layout">'+this.layoutBoxTemplateReplaced+'<div class="alpha-layout-options"><div></div></div>'+o+"</div></div>"}},addCondition:function(){var e=t(".alpha-condition-cat.active").data("category")||"site",i=t(this.getNewConditionUI(e));a.canExtendCondition(e)||t('.alpha-layout-more-wrap[data-category="'+e+'"]').remove(),t("#alpha_layout_content").append(i).isotope("appended",i),this.refreshUI("add")},duplicateCondition:function(e){var i,o=t(e.currentTarget),n=(i=o.is(".alpha-condition-menu > a")?o.parent().data("item"):o.closest(".alpha-layout-item")).data("category"),l=a.duplicateCondition(n,i.data("condition-no")),s=t(this.getNewConditionUI(n,l));t("#alpha_layout_content").append(s).isotope("appended",s).isotope("updateSortData"),this.refreshUI("add")},deleteCondition:function(e){if(confirm(alpha_layout_vars.text_confirm_delete_condition)){var i,o=t(e.currentTarget),n=(i=o.is(".alpha-condition-menu > a")?o.parent().data("item"):o.closest(".alpha-layout-item")).data("category");if("site"!=n){if(a.deleteCondition(n,i.data("condition-no")),i.remove(),!a.canExtendCondition(n)){var l=t(this.getAddMoreUI(n));t("#alpha_layout_content").append(l).isotope("appended",l)}this.refreshUI("layout")}}},changeConditionScheme:function(e){var i=t(e.currentTarget),o=i.closest(".alpha-scheme-options>div"),n=o.data("scheme"),l=o.closest(".alpha-layout-item"),s=l.data("category"),c=l.data("condition-no"),d=i.is(":checked");o.toggleClass("disabled",!d),a.setConditionScheme(s,c,n,d)},changeConditionItem:function(e){var i=t(e.currentTarget),o=i.closest(".alpha-scheme-options>div"),n=o.closest(".alpha-layout-item"),l=n.data("category"),s=n.data("condition-no"),c=o.data("scheme"),d=i.val();a.canExtendCondition(l,c)&&"object"==typeof d&&a.setConditionScheme(l,s,c,!!d.length&&d)},changeConditionTitle:function(e){var i=t(e.currentTarget),o=i.closest(".alpha-layout-item"),n=o.data("category"),l=o.data("condition-no");a.setConditionTitle(n,l,i.text())},editPart:function(e){var i=t(e.currentTarget);if(!i.hasClass("disabled")){var o=i.data("part"),n=i.closest(".alpha-layout").next(".alpha-layout-options").children(),l="",s=i.closest(".alpha-layout-item"),c=s.data("category"),d=s.data("condition-no"),r=a.getOptionControls(o),h=a.getOptionValues(c,d);if(r){var p=[];for(var u in r){var y;do{y=Math.floor(65535*Math.random())}while(p.indexOf(y)>=0);p.push(y);var f="_alpha_"+o+"_"+u+y,m=r[u],v="",_=h&&void 0!==h[u]?h[u]:"";if(m.description?v+='<div class="alpha-layout-desc"><label>'+m.label+"</label><p>"+m.description+"</p></div>":v+='<label for="'+f+'" class="alpha-layout-desc">'+m.label+"</label>","buttonset"==m.type){var g="";for(var g in v+='<input type="radio" id="'+f+"_"+g+'" name="'+f+'" value=""'+(""==_?" checked":"")+' class="radio-default">',v+='<label for="'+f+"_"+g+'" class="label-default fas fa-redo"'+(_?"":' checked="true"')+"></label>",v+='<div class="alpha-radio-button-set">',m.options)v+='<input type="radio" id="'+f+"_"+g+'" name="'+f+'" value="'+g+'"'+(g==_?" checked":"")+">",v+='<label for="'+f+"_"+g+'" class="alpha_'+o+"_"+u+"_"+g+'">'+m.options[g]+"</label>";v+="</div>"}else if("image"==m.type){g="";for(var g in v+='<input type="radio" id="'+f+"_"+g+'" name="'+f+'" value=""'+(""==_?" checked":"")+' class="radio-default">',v+='<label for="'+f+"_"+g+'" class="label-default fas fa-redo"'+(_?"":' checked="true"')+"></label>",v+='<div class="alpha-radio-image-set">',m.options)v+='<input type="radio" id="'+f+"_"+g+'" name="'+f+'" value="'+g+'"'+(g==_?" checked":"")+">",v+='<label for="'+f+"_"+g+'" class="alpha_'+o+"_"+u+"_"+g+'">',v+='<img src="'+alpha_layout_vars.layout_images_url+m.options[g].image+'" title="'+m.options[g].title+'">',v+="</label>";v+="</div>"}else if(m.type.startsWith("block")){var b=m.type.replace("block_","")?m.type.replace("block_",""):"block",C=a.getTemplates(b);for(var x in v+='<div class="alpha-block-select'+(_&&"hide"!=_?"":" inactive-my")+'">',v+='<div class="alpha-radio-button-set">',v+='<input type="radio" name="'+f+'" id="'+f+'_" value=""'+(_?"":" checked")+">",v+='<label class="fa fa-redo" for="'+f+'_" title="'+alpha_layout_vars.text_default+'"></label>',v+='<input type="radio" name="'+f+'" id="'+f+'_hide" value="hide"'+("hide"==_?" checked":"")+">",v+='<label class="fa fa-eye-slash"for="'+f+'_hide"  title="'+alpha_layout_vars.text_hide+'"></label>',v+='<input type="radio" name="'+f+'" id="'+f+'_my" value="my"'+(_&&"hide"!=_?" checked":"")+">",v+='<label class="far fa-hdd" for="'+f+'_my" title="'+alpha_layout_vars.text_my_templates+'"></label>',v+="</div>",v+='<select class="alpha-layout-part-select alpha-layout-part-control" id="'+f+'" name="'+f+'">',C)v+='<option value="'+x+'"'+(_==x?" selected":"")+">"+C[x]+"</option>";v+="</select>",alpha_layout_vars.template_builder[b]?v+="sidebar"==b?'<a href="'+window.location.href.substr(0,window.location.href.indexOf("wp-admin")+8)+'/admin.php?page=alpha_sidebar" target="_blank" class="new-block-template">'+wp.i18n.__("Please create a new ","alpha")+b+"</a>":'<a href="'+window.location.href.substr(0,window.location.href.indexOf("wp-admin")+8)+"/edit.php?post_type="+alpha_admin_vars.theme+"_template&"+alpha_admin_vars.theme+"_template_type="+b+'" target="_blank" class="new-block-template">'+wp.i18n.__("Please create a new ","alpha")+("product_layout"==b?wp.i18n.__("single product","alpha"):"shop_layout"==b?wp.i18n.__("shop layout","alpha"):b)+"</a>":v+='<a href="'+window.location.href.substr(0,window.location.href.indexOf("wp-admin")+8)+'/admin.php?page=alpha-setup-wizard&step=default_plugins" class="new-block-template">'+wp.i18n.__("Please activate ","alpha")+alpha_admin_vars.theme_display_name+" Core</a>",v+="</div>"}else if("number"==m.type){if(_){var k=_;void 0!==m.min&&(k=Math.max(m.min,k)),void 0!==m.max&&(k=Math.min(m.max,k)),_!=k&&a.setConditionOption(c,d,u,k)}v+='<input type="number" class="alpha-layout-part-control" name="'+f+'" id="'+f+'"'+(void 0===m.min?"":' min="'+m.min+'"')+(void 0===m.max?"":' max="'+m.max+'"')+' step="1" value="'+_+'">'}else if("select"==m.type){for(var g in v+='<select class="alpha-layout-part-select alpha-layout-part-control" id="'+f+'" name="'+f+'">',m.options)v+='<option value="'+g+'"'+(g==_?" selected":"")+">"+m.options[g]+"</option>";v+="</select>"}else if("text"==m.type)v+='<input type="text" name="'+f+'" class="alpha-layout-part-input alpha-layout-part-control" id="'+f+'" value="'+_+'"></input>';else if("toggle"==m.type)v+='<div class="alpha-radio-button-set">',v+='<input type="radio" name="'+f+'" id="'+f+'_" value=""'+(_?"":" checked")+">",v+='<label class="fa fa-redo" for="'+f+'_" title="'+alpha_layout_vars.text_default+'"></label>',v+='<input type="radio" name="'+f+'" id="'+f+'_no" value="no"'+("no"==_?" checked":"")+">",v+='<label class="fa fa-eye-slash" for="'+f+'_no"></label>',v+='<input type="radio" name="'+f+'" id="'+f+'_yes" value="yes"'+("yes"==_?" checked":"")+">",v+='<label class="fa fa-check"for="'+f+'_yes"></label>',v+="</div>";else if("multicheck"==m.type){if(v+="<ul>",m.options)for(var g in m.options)v+='<li><label><input type="checkbox" name="'+f+'[]" value="'+g+'">'+m.options[g]+"</label></li>";v+="</ul>"}var w=!0;"single_product_template"!=u||h&&"builder"==h.single_product_type||(w=!1),"shop_layout_template"!=u||h&&"builder"==h.shop_layout_type||(w=!1),["products_column","loadmore_type"].includes(u)&&h&&"builder"==h.shop_layout_type&&(w=!1),l+='<div class="alpha-layout-control" '+(w?"":' style="display:none"')+'data-option="'+u+'">'+v+"</div>"}}n.html(l),s.addClass("edit")}},editCondition:function(a){var e,i=t(a.currentTarget);(e=i.is(".alpha-condition-menu > a")?i.parent().data("item"):i.closest(".alpha-layout-item")).hasClass("edit-condition")?setTimeout((function(){e.find(".alpha-scheme-list").each((function(){var a=t(this);a.data("select2")&&a.select2("destroy")}))}),300):e.find(".alpha-scheme-list:not(.select2-hidden-accessible)").each((function(){var a=t(this);a.select2({placeholder:a.attr("data-placeholder")})})),e.toggleClass("edit-condition")},clickOther:function(a){var e=t(a.target);e.closest(".select2-container").length||e.closest(".alpha-layout-item").length||!e.is("body *")||(t(".alpha-layout-item.edit").removeClass("edit"),t(".alpha-layout-item.edit-condition").removeClass("edit-condition"),setTimeout((function(){t(".alpha-layout-item .alpha-scheme-list").each((function(){var a=t(this);a.data("select2")&&a.select2("destroy")}))}),300)),this.closeContextMenu()},goBackFromEdit:function(a){var e=t(a.currentTarget).parent(".alpha-scheme-options");e.length?(e.hide(),setTimeout((function(){e.show()}),100)):t(a.currentTarget).closest(".alpha-layout-item").removeClass("edit edit-condition")},changeBlockMode:function(e){var i=e.currentTarget,o=t(i),n=o.closest(".alpha-layout-item");o.closest(".alpha-block-select").toggleClass("inactive-my","my"!=i.value),i.name.startsWith("_alpha_")&&a.setConditionOption(n.data("category"),n.data("condition-no"),o.closest(".alpha-layout-control").data("option"),i.value),this.refreshLayoutStatus(n)},changeOptionInput:function(e){var i=t(e.currentTarget),o=i.val(),n=i.closest(".alpha-block-select"),l=e.currentTarget.name;if(n.length&&"my"==e.currentTarget.value&&(o=n.find("select").val()),l.startsWith("_alpha_"))if(a.setConditionOption(i.closest(".alpha-layout-item").data("category"),i.closest(".alpha-layout-item").data("condition-no"),i.closest(".alpha-layout-control").data("option"),o),l.indexOf("single_product_type")>=0)(s=i.closest(".alpha-layout-options").find('.alpha-layout-control[data-option="single_product_template"]')).length&&s.toggle("builder"==o);else if(l.indexOf("shop_layout_type")>=0){var s=i.closest(".alpha-layout-options").find('.alpha-layout-control[data-option="shop_layout_template"]'),c=i.closest(".alpha-layout-options").find('.alpha-layout-control[data-option="products_column"], .alpha-layout-control[data-option="loadmore_type"]');s.length&&s.toggle("builder"==o),c.length&&c.toggle("builder"!=o)}this.refreshLayoutStatus(t(e.currentTarget).closest(".alpha-layout-item"))}},i={init:function(){t("#alpha_layout_content").length&&"undefined"!=typeof alpha_layout_vars&&(this.model.init(),this.view.init(),this.filter())},filter:function(){var a,e=window.location.search.substring(1).split("&"),i={};e.forEach((function(t){let a=t.split("=");i[a[0]]=a[1]})),i.category&&(t(".alpha-layout-item").css("top","-9999px").each((function(){var e=t(this);i.category==e.data("category")&&i.index==e.data("condition-no")&&(e.css({left:"0",top:"0"}),a=e)})),a.find('[data-part="'+i.slug+'"]').trigger("click"))},showHeaderSaveBtn:function(){var a=t(".alpha-admin-header"),e=t("#alpha_layout_builder .alpha-layouts-save.require-save");e.length&&t(window).scrollTop()+a.outerHeight()>=e.offset().top+e.outerHeight()?a.addClass("show-btn"):a.removeClass("show-btn")},view:e,model:a};themeAdmin.LayoutBuilder=i,t(document).ready((function(){i.init()}))}(jQuery);