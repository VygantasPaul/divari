window.theme=window.theme||{},function(t){theme.shop=function(){function e(t){this.value&&(location.href=theme.addUrlParam(location.href.replace(/\/page\/\d*/,""),"count",this.value))}return{init:function(){t(".toolbox-horizontal .shop-sidebar .widget .chosen").each((function(e){t(this).find("a").attr("href")!=window.location.href&&(t('<a href="#" class="select-item">'+t(this).find("a").text()+'<i class="'+alpha_vars.theme_icon_prefix+'-icon-times-solid"></i></a>').insertBefore(".toolbox-horizontal + .select-items .filter-clean").attr("data-type",t(this).closest(".widget").attr("id").split("-").slice(0,-1).join("-")).data("link_id",t(this).closest(".widget").attr("id")).data("link_idx",t(this).index()),t(".toolbox-horizontal + .select-items").fadeIn())})),theme.$body.on("click",".toolbox-horizontal .shop-sidebar .widget-title, .alpha-filters .select-ul-toggle, .toolbox-horizontal .shop-sidebar .wp-block-group__inner-container > h2",(function(e){t(this).parent().siblings().removeClass("opened"),t(this).parent().toggleClass("opened"),e.stopPropagation()})).on("click",".toolbox-horizontal .shop-sidebar .widget-title + *, .toolbox-horizontal .shop-sidebar .wp-block-group__inner-container > h2 + *",(function(t){t.stopPropagation()})).on("click",(function(e){t(".toolbox-horizontal .shop-sidebar .widget, .alpha-filters .select-ul").removeClass("opened")})).on("click",".toolbox-horizontal .shop-sidebar .widget a",(function(e){var i=t(this);if(!i.closest(".widget").hasClass("yith-woo-ajax-reset-navigation"))if(theme.doLoading(".horizontal-sidebar .widget>*:not(.widget-title)","small"),i.closest(".product-categories").length&&t(".toolbox-horizontal + .select-items .select-item").remove(),i.parent().hasClass("chosen"))t(".toolbox-horizontal + .select-items .select-item").filter((function(e,o){return t(o).data("link_id")==i.closest(".widget").attr("id")&&t(o).data("link_idx")==i.closest("li").index()})).fadeOut((function(){t(this).remove(),t(".select-items").children().length<2&&t(".select-items").hide()}));else{var o=i.closest(".widget").attr("id").split("-").slice(0,-1).join("-");"alpha-price-filter"==o&&(t(".toolbox-horizontal + .select-items").find('[data-type="alpha-price-filter"]').remove(),i.closest("li").addClass("chosen").siblings().removeClass("chosen")),t('<a href="#" class="select-item">'+i.text()+'<i class="'+alpha_vars.theme_icon_prefix+'-icon-times-solid"></i></a>').insertBefore(".toolbox-horizontal + .select-items .filter-clean").hide().fadeIn().attr("data-type",o).data("link_id",i.closest(".widget").attr("id")).data("link_idx",i.closest("li").index()),t(".select-items").children().length>=2&&t(".select-items").show()}})).on("click",".toolbox-horizontal + .select-items .select-item",(function(e){e.preventDefault();var i=t(this),o=i.data("link_id");if(o){var l=t(".toolbox-horizontal .shop-sidebar #"+o).find("li").eq(i.data("link_idx")).children("a");l.length&&(l.closest(".product-categories").length?i.siblings(".filter-clean").trigger("click"):l.trigger("click"))}})).on("click",".toolbox-horizontal + .select-items .filter-clean",(function(e){e.preventDefault(),t(this).parent(".select-items").fadeOut((function(){t(this).children(".select-item").remove()}))})).on("click",".alpha-filters .select-ul a",(function(e){e.preventDefault(),e.stopPropagation(),"or"==t(this).closest(".alpha-filter").attr("data-filter-query")?t(this).closest("li").toggleClass("chosen"):t(this).closest("li").toggleClass("chosen").siblings().removeClass("chosen");var i=t(this).closest(".alpha-filters").find(".btn-filter"),o=i.attr("href"),l=t(this).closest(".alpha-filters");(o=o.split("/"))[o.length-1]="",l.length&&l.find(".alpha-filter").each((function(e){var i=t(this).find(".chosen");if(i.length){var a=[],s=t(this).attr("data-filter-attr");i.each((function(){a.push(t(this).attr("data-value"))})),o[o.length-1]+="filter_"+s+"="+a.join(",")+"&query_type_"+s+"="+t(this).attr("data-filter-query")+(e!=l.length?"&":"")}})),o[o.length-1]="?"+o[o.length-1],i.attr("href",o.join("/"))})),theme.$body.on("click",".shipping-calculator-button",(function(e){var i=e.currentTarget;setTimeout((function(){t(i).closest(".sticky-sidebar").trigger("recalc.pin")}),400)})),alpha_vars.cart_auto_update&&(theme.$body.on("click",".shop_table .quantity-minus, .shop_table .quantity-plus",(function(){t('.shop_table button[name="update_cart"]').trigger("click")})),theme.$body.on("keyup",".shop_table .quantity .qty",(function(){t('.shop_table button[name="update_cart"]').trigger("click")}))),alpha_vars.shop_ajax&&t(document.body).hasClass("alpha-archive-product-layout")||theme.$body.on("change",".toolbox-show-count .count",e),theme.woocommerce.initAlertAction()}}}(),t(window).on("alpha_complete",(function(){theme.shop.init()}))}(window.jQuery);