"use strict";window.theme||(window.theme={}),function(t){var a={init:function(){this.skipReset=!1,theme.$body.on("click","li>.product .product-variations>button",(function(e){var i=t(e.currentTarget);i.closest(".product").hasClass("product-single")||a.previewArchive(i)})).on("click",".product-single .product-variations > button",(function(e){var i=t(e.currentTarget);a.skipReset=!0,theme.requestTimeout((function(){a.skipReset=!1,a.previewSingle(i)}),50)}));var e=t.fn.wc_reset_variation_attr;t.fn.wc_reset_variation_attr=function(t){a.skipReset||e.call(this,t)},this.initVariableProduct()},previewArchive:function(t){if(!t.hasClass("disabled")){var a=t.hasClass("active");if(t.closest(".product-variations").children("button").removeClass("active"),a||t.addClass("active"),t.data("image")){var e=t.closest(".product").find(".product-media img:first-child");if(a)e.attr("src",e.data("origin-src")).attr("srcset",e.data("origin-srcset"));else{var i=t.data("image").match(/src="([^"]*)"/);i&&2==i.length&&(e.data("origin-src")||e.data("origin-src",e.attr("src")),e.attr("src",i[1])),(i=t.data("image").match(/srcset="([^"]*)"/))&&2==i.length&&(e.data("origin-srcset")||e.data("origin-srcset",e.attr("srcset")),e.attr("srcset",i[1]))}}}},previewSingle:function(a){var e=a.closest(".variations_form");if(!e.attr("current-image")){var i=a.closest(".product");if(a.hasClass("active")||(a=e.find(".image.active").not(a).first()),a.length){var r=a.attr("data-image");if(r){var s=i.find(".wp-post-image"),n=t(r);s.wc_set_variation_attr("src",n.attr("src")),s.wc_set_variation_attr("height",n.attr("height")),s.wc_set_variation_attr("width",n.attr("width")),s.wc_set_variation_attr("srcset",n.attr("srcset")),s.wc_set_variation_attr("sizes",n.attr("sizes")),s.wc_set_variation_attr("title",n.attr("title")),s.wc_set_variation_attr("data-caption",n.attr("data-caption")),s.wc_set_variation_attr("alt",n.attr("alt")),s.wc_set_variation_attr("data-src",n.attr("data-src")),s.wc_set_variation_attr("data-large_image",n.attr("data-large_image")),s.wc_set_variation_attr("data-large_image_width",n.attr("data-large_image_width")),s.wc_set_variation_attr("data-large_image_height",n.attr("data-large_image_height"))}}else e.wc_variations_image_reset();var o=i.find(".woocommerce-product-gallery").data("alpha_product_gallery");o.changePostImage()}},initVariableProduct:function(){theme.$body.on("click",".variations .product-variations button",(function(a){var e=t(a.currentTarget);e.hasClass("disabled")||(e.hasClass("active")?e.removeClass("active").parent().next().val("").change():(e.addClass("active").siblings().removeClass("active"),e.parent().next().val(e.attr("name")).change()))})).on("click",".reset_variations",(function(a){t(a.currentTarget).closest(".variations_form").find(".active").removeClass("active")})).on("check_variations",".variations_form",(function(){var a=t(theme.byClass("reset_variations",this));"hidden"==a.css("visibility")?a.hide():a.show()})).on("found_variation",".variations_form",(function(a,e){var i=t(a.currentTarget).closest(".product"),r=i.find(".woocommerce-product-gallery").data("alpha_product_gallery");r&&r.changePostImage(e);var s=i.find(".countdown-variations");if(s.length)if(e&&e.is_purchasable&&e.alpha_date_on_sale_to){var n=s.find(".countdown");n.data("until")!=e.alpha_date_on_sale_to&&"function"==typeof theme.countdown&&(theme.countdown(n,{until:new Date(e.alpha_date_on_sale_to)}),n.data("until",e.alpha_date_on_sale_to)),s.slideDown()}else s.slideUp()})).on("reset_image",".variations_form",(function(a){var e=t(a.currentTarget).closest(".product"),i=e.find(".woocommerce-product-gallery");if(i.length){var r=i.data("alpha_product_gallery");r&&r.changePostImage("reset")}e.find(".countdown-variations").slideUp()})).on("update_variation_values",".variations_form",(function(){var a=t(this);a.find(".product-variations>button").addClass("disabled"),a.find("select").each((function(){var a=t(this),e=a.closest(".variations > *").find(".product-variations");a.children(".enabled").each((function(){e.children('[name="'+this.getAttribute("value")+'"]').removeClass("disabled")})),a.children(":selected").each((function(){e.children('[name="'+this.getAttribute("value")+'"]').addClass("active")}))}))}))}};theme.Swatch=a,theme.$window.on("alpha_complete",(function(){theme.Swatch.init()}))}(jQuery);