!function(e,t){"use strict";var i,n;window.themeAdmin=window.themeAdmin||{};var a={init:function(){var i;this.onAddImage=this.onAddImage.bind(this),this.onRemoveImage=this.onRemoveImage.bind(this),this.onSelectImage=this.onSelectImage.bind(this),this.onSave=this.onSave.bind(this),this.onCancel=this.onCancel.bind(this),t("#swatch_product_options select").on("change",this.requireSave),t(document.body).on("click","#swatch_product_options .button_upload_image",this.onAddImage).on("click","#swatch_product_options .button_remove_image",this.onRemoveImage).on("click","#swatch_product_options .alpha-admin-save-changes",this.onSave).on("click","#swatch_product_options .alpha-admin-cancel-changes",this.onCancel),""===t("#attr_image").val()&&t(".remove_image_button").hide(),t(document).on("click",".upload_image_button",(function(n){n.preventDefault(),i||(i=e.media.frames.downloadable_file=e.media({title:lib_swatch_admin.title,button:{text:lib_swatch_admin.button_text},multiple:!1})).on("select",(function(){var e=i.state().get("selection").first().toJSON(),n=e.sizes.thumbnail||e.sizes.full;t("#attr_image").val(e.id),t("#attr_image_thumbnail").find("img").attr("src",n.url),t(".remove_image_button").show()})),i.open()})),t(document).on("click",".remove_image_button",(function(){return t("#attr_image_thumbnail").find("img").attr("src",lib_swatch_admin.placeholder),t("#attr_image").val(""),t(".remove_image_button").hide(),!1})),t.fn.wpColorPicker&&t("input.alpha-color-picker:not(.wp-color-picker)").wpColorPicker()},requireSave:function(){t("#swatch_product_options .alpha-admin-save-changes").removeAttr("disabled"),t("#swatch_product_options .alpha-admin-cancel-changes").removeAttr("disabled")},onSelectImage:function(){var e=i.state().get("selection").first().toJSON();n.siblings("img").attr("src",e.url),n.siblings("input").val(e.id),i.close()},onAddImage:function(a){n=t(a.currentTarget),i||(i=e.media.frames.downloadable_file=e.media({title:"Choose an image",button:{text:"Use image"},multiple:!1})).on("select",this.onSelectImage),i.open(),this.requireSave(),a.preventDefault()},onRemoveImage:function(e){var i=t(e.currentTarget);i.siblings("img").attr("src",lib_swatch_admin.placeholder),i.siblings("input").val(""),this.requireSave(),e.preventDefault()},onSave:function(e){},onCancel:function(e){confirm("Changes are cancelled. Do you want to reload this page?")&&window.location.reload()}};themeAdmin.swatchAdmin=a,t(document).ready((function(){themeAdmin.swatchAdmin.init()}))}(wp,jQuery);